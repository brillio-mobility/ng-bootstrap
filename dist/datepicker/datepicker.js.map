{"version":3,"sources":["../../src/datepicker/datepicker.ts"],"names":[],"mappings":"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","file":"datepicker.js","sourceRoot":"","sourcesContent":["import {Subscription} from 'rxjs/Subscription';\r\nimport {\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  TemplateRef,\r\n  forwardRef,\r\n  OnInit,\r\n  SimpleChanges,\r\n  EventEmitter,\r\n  Output,\r\n  OnDestroy,\r\n  ElementRef\r\n} from '@angular/core';\r\nimport {NG_VALUE_ACCESSOR, ControlValueAccessor} from '@angular/forms';\r\nimport {NgbCalendar} from './ngb-calendar';\r\nimport {NgbDate} from './ngb-date';\r\nimport {NgbDatepickerService} from './datepicker-service';\r\nimport {NgbDatepickerKeyMapService} from './datepicker-keymap-service';\r\nimport {DatepickerViewModel, NavigationEvent} from './datepicker-view-model';\r\nimport {toInteger} from '../util/util';\r\nimport {DayTemplateContext} from './datepicker-day-template-context';\r\nimport {NgbDatepickerConfig} from './datepicker-config';\r\nimport {NgbDateStruct} from './ngb-date-struct';\r\nimport {NgbDatepickerI18n} from './datepicker-i18n';\r\nimport {isChangedDate} from './datepicker-tools';\r\n\r\nconst NGB_DATEPICKER_VALUE_ACCESSOR = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  useExisting: forwardRef(() => NgbDatepicker),\r\n  multi: true\r\n};\r\n\r\n/**\r\n * The payload of the datepicker navigation event\r\n */\r\nexport interface NgbDatepickerNavigateEvent {\r\n  /**\r\n   * Currently displayed month\r\n   */\r\n  current: {year: number, month: number};\r\n\r\n  /**\r\n   * Month we're navigating to\r\n   */\r\n  next: {year: number, month: number};\r\n}\r\n\r\n/**\r\n * A lightweight and highly configurable datepicker directive\r\n */\r\n\r\nexport class NgbDatepicker implements OnDestroy,\r\n    OnChanges, OnInit, ControlValueAccessor {\r\n  model: DatepickerViewModel;\r\n\r\n  private _subscription: Subscription;\r\n  /**\r\n   * Reference for the custom template for the day display\r\n   */\r\n   dayTemplate: TemplateRef<DayTemplateContext>;\r\n\r\n  /**\r\n   * Number of months to display\r\n   */\r\n   displayMonths: number;\r\n\r\n  /**\r\n   * First day of the week. With default calendar we use ISO 8601: 'weekday' is 1=Mon ... 7=Sun\r\n   */\r\n   firstDayOfWeek: number;\r\n\r\n  /**\r\n   * Callback to mark a given date as disabled.\r\n   * 'Current' contains the month that will be displayed in the view\r\n   */\r\n   markDisabled: (date: NgbDateStruct, current: {year: number, month: number}) => boolean;\r\n\r\n  /**\r\n   * Max date for the navigation. If not provided will be 10 years from today or `startDate`\r\n   */\r\n   maxDate: NgbDateStruct;\r\n\r\n  /**\r\n   * Min date for the navigation. If not provided will be 10 years before today or `startDate`\r\n   */\r\n   minDate: NgbDateStruct;\r\n\r\n  /**\r\n   * Navigation type: `select` (default with select boxes for month and year), `arrows`\r\n   * (without select boxes, only navigation arrows) or `none` (no navigation at all)\r\n   */\r\n   navigation: 'select' | 'arrows' | 'none';\r\n\r\n  /**\r\n   * The way to display days that don't belong to current month: `visible` (default),\r\n   * `hidden` (not displayed) or `collapsed` (not displayed with empty space collapsed)\r\n   */\r\n   outsideDays: 'visible' | 'collapsed' | 'hidden';\r\n\r\n  /**\r\n   * Whether to display days of the week\r\n   */\r\n   showWeekdays: boolean;\r\n\r\n  /**\r\n   * Whether to display week numbers\r\n   */\r\n   showWeekNumbers: boolean;\r\n\r\n  /**\r\n   * Date to open calendar with.\r\n   * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.\r\n   * If nothing or invalid date provided, calendar will open with current month.\r\n   * Use 'navigateTo(date)' as an alternative\r\n   */\r\n   startDate: {year: number, month: number};\r\n\r\n  /**\r\n   * An event fired when navigation happens and currently displayed month changes.\r\n   * See NgbDatepickerNavigateEvent for the payload info.\r\n   */\r\n   navigate = new EventEmitter<NgbDatepickerNavigateEvent>();\r\n\r\n  onChange = (_: any) => {};\r\n  onTouched = () => {};\r\n\r\n  constructor(\r\n      private _keyMapService: NgbDatepickerKeyMapService, public _service: NgbDatepickerService,\r\n      private _calendar: NgbCalendar, public i18n: NgbDatepickerI18n, config: NgbDatepickerConfig,\r\n      private _cd: ChangeDetectorRef, private _elementRef: ElementRef) {\r\n    this.dayTemplate = config.dayTemplate;\r\n    this.displayMonths = config.displayMonths;\r\n    this.firstDayOfWeek = config.firstDayOfWeek;\r\n    this.markDisabled = config.markDisabled;\r\n    this.minDate = config.minDate;\r\n    this.maxDate = config.maxDate;\r\n    this.navigation = config.navigation;\r\n    this.outsideDays = config.outsideDays;\r\n    this.showWeekdays = config.showWeekdays;\r\n    this.showWeekNumbers = config.showWeekNumbers;\r\n    this.startDate = config.startDate;\r\n\r\n    this._subscription = _service.model$.subscribe(model => {\r\n      const newDate = model.firstDate;\r\n      const oldDate = this.model ? this.model.firstDate : null;\r\n      const newSelectedDate = model.selectedDate;\r\n      const oldSelectedDate = this.model ? this.model.selectedDate : null;\r\n\r\n      this.model = model;\r\n\r\n      // handling selection change\r\n      if (isChangedDate(newSelectedDate, oldSelectedDate)) {\r\n        this.onTouched();\r\n        this.onChange(\r\n            newSelectedDate ? {year: newSelectedDate.year, month: newSelectedDate.month, day: newSelectedDate.day} :\r\n                              null);\r\n      }\r\n\r\n      // emitting navigation event if the first month changes\r\n      if (!newDate.equals(oldDate)) {\r\n        this.navigate.emit({\r\n          current: oldDate ? {year: oldDate.year, month: oldDate.month} : null,\r\n          next: {year: newDate.year, month: newDate.month}\r\n        });\r\n      }\r\n      _cd.markForCheck();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Manually focus the datepicker\r\n   */\r\n  focus() { this._elementRef.nativeElement.focus(); }\r\n\r\n  getHeaderHeight() {\r\n    const h = this.showWeekdays ? 6.25 : 4.25;\r\n    return this.displayMonths === 1 || this.navigation !== 'select' ? h - 2 : h;\r\n  }\r\n\r\n  getHeaderMargin() {\r\n    const m = this.showWeekdays ? 2 : 0;\r\n    return this.displayMonths !== 1 || this.navigation !== 'select' ? m + 2 : m;\r\n  }\r\n\r\n  /**\r\n   * Navigates current view to provided date.\r\n   * With default calendar we use ISO 8601: 'month' is 1=Jan ... 12=Dec.\r\n   * If nothing or invalid date provided calendar will open current month.\r\n   * Use 'startDate' input as an alternative\r\n   */\r\n  navigateTo(date?: {year: number, month: number}) {\r\n    this._service.open(date ? new NgbDate(date.year, date.month, 1) : this._calendar.getToday());\r\n  }\r\n\r\n  ngOnDestroy() { this._subscription.unsubscribe(); }\r\n\r\n  ngOnInit() {\r\n    if (this.model === undefined) {\r\n      this._service.displayMonths = toInteger(this.displayMonths);\r\n      this._service.markDisabled = this.markDisabled;\r\n      this._service.firstDayOfWeek = this.firstDayOfWeek;\r\n      this._setDates();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['displayMonths']) {\r\n      this._service.displayMonths = toInteger(this.displayMonths);\r\n    }\r\n    if (changes['markDisabled']) {\r\n      this._service.markDisabled = this.markDisabled;\r\n    }\r\n    if (changes['firstDayOfWeek']) {\r\n      this._service.firstDayOfWeek = this.firstDayOfWeek;\r\n    }\r\n    this._setDates();\r\n  }\r\n\r\n  onDateSelect(date: NgbDate) {\r\n    this._service.focus(date);\r\n    this.writeValue(date);\r\n  }\r\n\r\n  onKeyDown(event: KeyboardEvent) { this._keyMapService.processKey(event); }\r\n\r\n  onNavigateDateSelect(date: NgbDate) { this._service.open(date); }\r\n\r\n  onNavigateEvent(event: NavigationEvent) {\r\n    switch (event) {\r\n      case NavigationEvent.PREV:\r\n        this._service.open(this._calendar.getPrev(this.model.firstDate, 'm', 1));\r\n        break;\r\n      case NavigationEvent.NEXT:\r\n        this._service.open(this._calendar.getNext(this.model.firstDate, 'm', 1));\r\n        break;\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: (value: any) => any): void { this.onChange = fn; }\r\n\r\n  registerOnTouched(fn: () => any): void { this.onTouched = fn; }\r\n\r\n  setDisabledState(isDisabled: boolean) { this._service.disabled = isDisabled; }\r\n\r\n  showFocus(focusVisible: boolean) { this._service.focusVisible = focusVisible; }\r\n\r\n  writeValue(value) { this._service.select(value); }\r\n\r\n  private _setDates() {\r\n    const startDate = this._service.toValidDate(this.startDate, this._calendar.getToday());\r\n    const minDate = this._service.toValidDate(this.minDate, this._calendar.getPrev(startDate, 'y', 10));\r\n    const maxDate =\r\n        this._service.toValidDate(this.maxDate, this._calendar.getPrev(this._calendar.getNext(startDate, 'y', 11)));\r\n\r\n    this.minDate = {year: minDate.year, month: minDate.month, day: minDate.day};\r\n    this.maxDate = {year: maxDate.year, month: maxDate.month, day: maxDate.day};\r\n\r\n    this._service.minDate = minDate;\r\n    this._service.maxDate = maxDate;\r\n    this.navigateTo(startDate);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  exportAs: 'ngbDatepicker',\r\n  selector: 'ngb-datepicker',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  host: {\r\n    'class': 'd-inline-block rounded',\r\n    'tabindex': '0',\r\n    '[attr.tabindex]': 'model.disabled ? undefined : \"0\"',\r\n    '(blur)': 'showFocus(false)',\r\n    '(focus)': 'showFocus(true)',\r\n    '(keydown)': 'onKeyDown($event)'\r\n  },\r\n  styles: [`\r\n    :host {\r\n      border: 1px solid rgba(0, 0, 0, 0.125);\r\n    }\r\n    .ngb-dp-header {\r\n      border-bottom: 1px solid rgba(0, 0, 0, 0.125);\r\n    }\r\n    .ngb-dp-month {\r\n      pointer-events: none;\r\n    }\r\n    ngb-datepicker-month-view {\r\n      pointer-events: auto;\r\n    }\r\n    .ngb-dp-month:first-child {\r\n      margin-left: 0 !important;\r\n    }\r\n    .ngb-dp-month-name {\r\n      font-size: larger;\r\n      height: 2rem;\r\n      line-height: 2rem;\r\n    }\r\n  `],\r\n  template: `\r\n    <ng-template #dt let-date=\"date\" let-currentMonth=\"currentMonth\" let-selected=\"selected\" let-disabled=\"disabled\" let-focused=\"focused\">\r\n      <div ngbDatepickerDayView\r\n        [date]=\"date\"\r\n        [currentMonth]=\"currentMonth\"\r\n        [selected]=\"selected\"\r\n        [disabled]=\"disabled\"\r\n        [focused]=\"focused\">\r\n      </div>\r\n    </ng-template>\r\n\r\n    <div class=\"ngb-dp-header bg-light pt-1 rounded-top\" [style.height.rem]=\"getHeaderHeight()\"\r\n         [style.marginBottom.rem]=\"-getHeaderMargin()\">\r\n      <ngb-datepicker-navigation *ngIf=\"navigation !== 'none'\"\r\n        [date]=\"model.firstDate\"\r\n        [minDate]=\"model.minDate\"\r\n        [maxDate]=\"model.maxDate\"\r\n        [months]=\"model.months.length\"\r\n        [disabled]=\"model.disabled\"\r\n        [showWeekNumbers]=\"showWeekNumbers\"\r\n        [showSelect]=\"navigation === 'select'\"\r\n        (navigate)=\"onNavigateEvent($event)\"\r\n        (select)=\"onNavigateDateSelect($event)\">\r\n      </ngb-datepicker-navigation>\r\n    </div>\r\n\r\n    <div class=\"ngb-dp-months d-flex px-1 pb-1\">\r\n      <ng-template ngFor let-month [ngForOf]=\"model.months\" let-i=\"index\">\r\n        <div class=\"ngb-dp-month d-block ml-3\">\r\n          <div *ngIf=\"navigation !== 'select' || displayMonths > 1\" class=\"ngb-dp-month-name text-center\">\r\n            {{ i18n.getMonthFullName(month.number) }} {{ month.year }}\r\n          </div>\r\n          <ngb-datepicker-month-view\r\n            [month]=\"month\"\r\n            [dayTemplate]=\"dayTemplate || dt\"\r\n            [showWeekdays]=\"showWeekdays\"\r\n            [showWeekNumbers]=\"showWeekNumbers\"\r\n            [outsideDays]=\"(displayMonths === 1 ? outsideDays : 'hidden')\"\r\n            (select)=\"onDateSelect($event)\">\r\n          </ngb-datepicker-month-view>\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  `,\r\n  providers: [NGB_DATEPICKER_VALUE_ACCESSOR, NgbDatepickerService, NgbDatepickerKeyMapService]\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgbDatepickerKeyMapService, },\n{type: NgbDatepickerService, },\n{type: NgbCalendar, },\n{type: NgbDatepickerI18n, },\n{type: NgbDatepickerConfig, },\n{type: ChangeDetectorRef, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'dayTemplate': [{ type: Input },],\n'displayMonths': [{ type: Input },],\n'firstDayOfWeek': [{ type: Input },],\n'markDisabled': [{ type: Input },],\n'maxDate': [{ type: Input },],\n'minDate': [{ type: Input },],\n'navigation': [{ type: Input },],\n'outsideDays': [{ type: Input },],\n'showWeekdays': [{ type: Input },],\n'showWeekNumbers': [{ type: Input },],\n'startDate': [{ type: Input },],\n'navigate': [{ type: Output },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}