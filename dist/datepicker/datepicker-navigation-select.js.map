{"version":3,"sources":["../../src/datepicker/datepicker-navigation-select.ts"],"names":[],"mappings":"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","file":"datepicker-navigation-select.js","sourceRoot":"","sourcesContent":["import {Component, Input, Output, EventEmitter, OnChanges, SimpleChanges, ChangeDetectionStrategy} from '@angular/core';\r\nimport {NgbDate} from './ngb-date';\r\nimport {toInteger} from '../util/util';\r\nimport {NgbDatepickerI18n} from './datepicker-i18n';\r\nimport {NgbCalendar} from './ngb-calendar';\r\n\r\n\r\nexport class NgbDatepickerNavigationSelect implements OnChanges {\r\n  months: number[];\r\n  years: number[] = [];\r\n\r\n   date: NgbDate;\r\n   disabled: boolean;\r\n   maxDate: NgbDate;\r\n   minDate: NgbDate;\r\n\r\n   select = new EventEmitter<NgbDate>();\r\n\r\n  constructor(public i18n: NgbDatepickerI18n, private calendar: NgbCalendar) { this.months = calendar.getMonths(); }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes['maxDate'] || changes['minDate'] || changes['date']) {\r\n      this._generateYears();\r\n      this._generateMonths();\r\n    }\r\n  }\r\n\r\n  changeMonth(month: string) { this.select.emit(new NgbDate(this.date.year, toInteger(month), 1)); }\r\n\r\n  changeYear(year: string) { this.select.emit(new NgbDate(toInteger(year), this.date.month, 1)); }\r\n\r\n  private _generateMonths() {\r\n    this.months = this.calendar.getMonths();\r\n\r\n    if (this.date && this.date.year === this.minDate.year) {\r\n      const index = this.months.findIndex(month => month === this.minDate.month);\r\n      this.months = this.months.slice(index);\r\n    }\r\n\r\n    if (this.date && this.date.year === this.maxDate.year) {\r\n      const index = this.months.findIndex(month => month === this.maxDate.month);\r\n      this.months = this.months.slice(0, index + 1);\r\n    }\r\n  }\r\n\r\n  private _generateYears() {\r\n    this.years = Array.from({length: this.maxDate.year - this.minDate.year + 1}, (e, i) => this.minDate.year + i);\r\n  }\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n  selector: 'ngb-datepicker-navigation-select',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styles: [`\r\n    select {\r\n      /* to align with btn-sm */\r\n      padding: 0.25rem 0.5rem;\r\n      font-size: 0.875rem;      \r\n      line-height: 1.25;\r\n      /* to cancel the custom height set by custom-select */\r\n      height: inherit;\r\n      width: 50%;\r\n    }\r\n  `],\r\n  template: `\r\n    <select\r\n      [disabled]=\"disabled\"\r\n      class=\"custom-select d-inline-block\"\r\n      [value]=\"date?.month\"\r\n      (change)=\"changeMonth($event.target.value)\"\r\n      tabindex=\"-1\">\r\n        <option *ngFor=\"let m of months\" [value]=\"m\">{{ i18n.getMonthShortName(m) }}</option>\r\n    </select><select\r\n      [disabled]=\"disabled\"\r\n      class=\"custom-select d-inline-block\"\r\n      [value]=\"date?.year\"\r\n      (change)=\"changeYear($event.target.value)\"\r\n      tabindex=\"-1\">\r\n        <option *ngFor=\"let y of years\" [value]=\"y\">{{ y }}</option>\r\n    </select> \r\n  `\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: NgbDatepickerI18n, },\n{type: NgbCalendar, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'date': [{ type: Input },],\n'disabled': [{ type: Input },],\n'maxDate': [{ type: Input },],\n'minDate': [{ type: Input },],\n'select': [{ type: Output },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}